<div class="manage" ng-controller="manage">
	<div class="release">
		<span>案例列表</span>
		<input type="button" value="发布" ng-click="odd()" />
	</div>
	<div id="content">
		<div id="image-wrap">
			
		</div>
		<input type="button" value="添加案例" id="but" style="text-align: center;padding: 0;margin-top: 0.5rem;"/>
		<input id="file" type="file" />
		<textarea id="result" rows=3 cols=3 style="display: none;"></textarea>
	</div>

	<div class="case releaseContent">
		<p style="margin-top: 4rem;">已有案例</p>
	</div>
	<div class="chart">
		<ul class="ul">
			<li ng-repeat="time in arr"><img ng-src="{{time.img}}" /></li>
		</ul>
	</div>
	<div class="footers">
		<ul>
			<li ui-sref="admin">新闻</li>
			<li ui-sref="manage">案例</li>
			<li ui-sref='words'>留言</li>
		</ul>
	</div>
	<div class="show">
		<p>详情</p>
		<p>删除</p>
		<p class="up">取消</p>
	</div>
	<div class="op">
	</div>
</div>
<script>
		var input = document.getElementById("file");
		var result = document.getElementById("result");
		var img_area = document.getElementById("image-wrap");
		
		if(typeof(FileReader) === 'undefined') {
			result.innerHTML = "抱歉，你的浏览器不支持 FileReader，请使用现代浏览器操作！";
			input.setAttribute('disabled', 'disabled');
		} else {
			input.addEventListener('change', readFile, false);
		}
	function readFile() {
		var file = this.files[0];
		//这里我们判断下类型如果不是图片就返回 去掉就可以上传任意文件 
		if(!/image\/\w+/.test(file.type)) {
			alert("请确保文件为图像类型");
			return false;
		}
		var reader = new FileReader();
		reader.readAsDataURL(file);
		reader.onload = function(e) {
			result.innerHTML = '<img src="' + this.result + '" alt=""/>';
			img_area.innerHTML = '<img src="' + this.result + '" alt="" class="imgSrc"/>'
		}
	}
</script>